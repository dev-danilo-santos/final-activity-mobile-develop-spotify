{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport axios from \"axios\";\nimport qs from \"qs\";\nvar baseURL = \"https://api.spotify.com/v1/\";\nvar client = axios.create({\n  baseURL: baseURL,\n  timeout: 5000\n});\nvar getAccessToken = function () {\n  var _ref = _asyncToGenerator(function* () {\n    var clientId = \"e0610e0e032e4fbda1e9a21638218a6b\";\n    var clientSecret = \"6c05a3a1d34f4e84967720f98c7d3a40\";\n    var authString = clientId + \":\" + clientSecret;\n    var base64AuthString = Buffer.from(authString).toString(\"base64\");\n    var data = {\n      grant_type: \"client_credentials\"\n    };\n    var config = {\n      headers: {\n        Authorization: \"Basic \" + base64AuthString,\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      }\n    };\n    var response = yield axios.post(\"https://accounts.spotify.com/api/token\", qs.stringify(data), config);\n    return response.data.access_token;\n  });\n  return function getAccessToken() {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar getGeneros = function () {\n  var _ref2 = _asyncToGenerator(function* () {\n    var token = yield getAccessToken();\n    var uri = encodeURI(\"recommendations/available-genre-seeds\");\n    return yield client.get(uri, {\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    });\n  });\n  return function getGeneros() {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar buscarArtistasPorGenero = function () {\n  var _ref3 = _asyncToGenerator(function* (genero) {\n    var token = yield getAccessToken();\n    var uri = \"search?type=artist&q=genre:\" + genero;\n    var response = yield client.get(uri, {\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    });\n    return response.data.artists.items;\n  });\n  return function buscarArtistasPorGenero(_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport { getGeneros, buscarArtistasPorGenero };","map":{"version":3,"names":["axios","qs","baseURL","client","create","timeout","getAccessToken","_ref","_asyncToGenerator","clientId","clientSecret","authString","base64AuthString","Buffer","from","toString","data","grant_type","config","headers","Authorization","response","post","stringify","access_token","apply","arguments","getGeneros","_ref2","token","uri","encodeURI","get","buscarArtistasPorGenero","_ref3","genero","artists","items","_x"],"sources":["C:/Users/T-GAMER/Desktop/11-async-storage/src/component/api/spotifyApi.js"],"sourcesContent":["import axios from \"axios\";\r\nimport qs from \"qs\";\r\n\r\nconst baseURL = \"https://api.spotify.com/v1/\";\r\n\r\nconst client = axios.create({\r\n  baseURL: baseURL,\r\n  timeout: 5000,\r\n});\r\n\r\nconst getAccessToken = async () => {\r\n  const clientId = \"e0610e0e032e4fbda1e9a21638218a6b\";\r\n  const clientSecret = \"6c05a3a1d34f4e84967720f98c7d3a40\";\r\n  const authString = `${clientId}:${clientSecret}`;\r\n  const base64AuthString = Buffer.from(authString).toString(\"base64\");\r\n\r\n  const data = {\r\n    grant_type: \"client_credentials\",\r\n  };\r\n\r\n  const config = {\r\n    headers: {\r\n      Authorization: `Basic ${base64AuthString}`,\r\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n    },\r\n  };\r\n\r\n  const response = await axios.post(\r\n    \"https://accounts.spotify.com/api/token\",\r\n    qs.stringify(data),\r\n    config\r\n  );\r\n\r\n  return response.data.access_token;\r\n};\r\n\r\nconst getGeneros = async () => {\r\n  const token = await getAccessToken();\r\n  const uri = encodeURI(`recommendations/available-genre-seeds`);\r\n  return await client.get(uri, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n};\r\n\r\nconst buscarArtistasPorGenero = async (genero) => {\r\n  const token = await getAccessToken();\r\n  const uri = `search?type=artist&q=genre:${genero}`;\r\n  const response = await client.get(uri, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n  return response.data.artists.items;\r\n};\r\n\r\nexport { getGeneros, buscarArtistasPorGenero };\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,EAAE,MAAM,IAAI;AAEnB,IAAMC,OAAO,GAAG,6BAA6B;AAE7C,IAAMC,MAAM,GAAGH,KAAK,CAACI,MAAM,CAAC;EAC1BF,OAAO,EAAEA,OAAO;EAChBG,OAAO,EAAE;AACX,CAAC,CAAC;AAEF,IAAMC,cAAc;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,aAAY;IACjC,IAAMC,QAAQ,GAAG,kCAAkC;IACnD,IAAMC,YAAY,GAAG,kCAAkC;IACvD,IAAMC,UAAU,GAAMF,QAAQ,SAAIC,YAAc;IAChD,IAAME,gBAAgB,GAAGC,MAAM,CAACC,IAAI,CAACH,UAAU,CAAC,CAACI,QAAQ,CAAC,QAAQ,CAAC;IAEnE,IAAMC,IAAI,GAAG;MACXC,UAAU,EAAE;IACd,CAAC;IAED,IAAMC,MAAM,GAAG;MACbC,OAAO,EAAE;QACPC,aAAa,aAAWR,gBAAkB;QAC1C,cAAc,EAAE;MAClB;IACF,CAAC;IAED,IAAMS,QAAQ,SAASrB,KAAK,CAACsB,IAAI,CAC/B,wCAAwC,EACxCrB,EAAE,CAACsB,SAAS,CAACP,IAAI,CAAC,EAClBE,MACF,CAAC;IAED,OAAOG,QAAQ,CAACL,IAAI,CAACQ,YAAY;EACnC,CAAC;EAAA,gBAxBKlB,cAAcA,CAAA;IAAA,OAAAC,IAAA,CAAAkB,KAAA,OAAAC,SAAA;EAAA;AAAA,GAwBnB;AAED,IAAMC,UAAU;EAAA,IAAAC,KAAA,GAAApB,iBAAA,CAAG,aAAY;IAC7B,IAAMqB,KAAK,SAASvB,cAAc,CAAC,CAAC;IACpC,IAAMwB,GAAG,GAAGC,SAAS,wCAAwC,CAAC;IAC9D,aAAa5B,MAAM,CAAC6B,GAAG,CAACF,GAAG,EAAE;MAC3BX,OAAO,EAAE;QACPC,aAAa,cAAYS;MAC3B;IACF,CAAC,CAAC;EACJ,CAAC;EAAA,gBARKF,UAAUA,CAAA;IAAA,OAAAC,KAAA,CAAAH,KAAA,OAAAC,SAAA;EAAA;AAAA,GAQf;AAED,IAAMO,uBAAuB;EAAA,IAAAC,KAAA,GAAA1B,iBAAA,CAAG,WAAO2B,MAAM,EAAK;IAChD,IAAMN,KAAK,SAASvB,cAAc,CAAC,CAAC;IACpC,IAAMwB,GAAG,mCAAiCK,MAAQ;IAClD,IAAMd,QAAQ,SAASlB,MAAM,CAAC6B,GAAG,CAACF,GAAG,EAAE;MACrCX,OAAO,EAAE;QACPC,aAAa,cAAYS;MAC3B;IACF,CAAC,CAAC;IACF,OAAOR,QAAQ,CAACL,IAAI,CAACoB,OAAO,CAACC,KAAK;EACpC,CAAC;EAAA,gBATKJ,uBAAuBA,CAAAK,EAAA;IAAA,OAAAJ,KAAA,CAAAT,KAAA,OAAAC,SAAA;EAAA;AAAA,GAS5B;AAED,SAASC,UAAU,EAAEM,uBAAuB"},"metadata":{},"sourceType":"module","externalDependencies":[]}