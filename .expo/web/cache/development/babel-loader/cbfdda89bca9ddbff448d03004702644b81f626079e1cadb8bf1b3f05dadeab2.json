{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport axios from \"axios\";\nvar baseURL = \"https://api.spotify.com/v1/\";\nvar client = axios.create({\n  baseURL: baseURL,\n  timeout: 5000\n});\nvar getGeneros = function () {\n  var _ref = _asyncToGenerator(function* () {\n    var uri = encodeURI(\"recommendations/available-genre-seeds\");\n    return yield client.get(uri);\n  });\n  return function getGeneros() {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar buscarArtistasPorGenero = function () {\n  var _ref2 = _asyncToGenerator(function* (genero) {\n    var uri = \"search?type=artist&q=genre:\" + genero;\n    var response = yield client.get(uri);\n    return response.data.artists.items;\n  });\n  return function buscarArtistasPorGenero(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar authSpotify = function () {\n  var _ref3 = _asyncToGenerator(function* () {\n    var clientId = '<seu_client_id>';\n    var clientSecret = '<seu_client_secret>';\n    var response = yield axios.post('https://accounts.spotify.com/api/token', 'grant_type=client_credentials', {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Authorization': \"Basic \" + Buffer.from(clientId + \":\" + clientSecret).toString('base64')\n      }\n    });\n    return response.data.access_token;\n  });\n  return function authSpotify() {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar setAuthorizationHeader = function () {\n  var _ref4 = _asyncToGenerator(function* () {\n    var token = yield authSpotify();\n    client.defaults.headers.common['Authorization'] = \"Bearer \" + token;\n  });\n  return function setAuthorizationHeader() {\n    return _ref4.apply(this, arguments);\n  };\n}();\nsetAuthorizationHeader();\nexport { getGeneros, buscarArtistasPorGenero };","map":{"version":3,"names":["axios","baseURL","client","create","timeout","getGeneros","_ref","_asyncToGenerator","uri","encodeURI","get","apply","arguments","buscarArtistasPorGenero","_ref2","genero","response","data","artists","items","_x","authSpotify","_ref3","clientId","clientSecret","post","headers","Buffer","from","toString","access_token","setAuthorizationHeader","_ref4","token","defaults","common"],"sources":["C:/Users/T-GAMER/Desktop/11-async-storage/src/component/api/spotifyApi.js"],"sourcesContent":["import axios from \"axios\";\r\nconst baseURL = \"https://api.spotify.com/v1/\";\r\n\r\nconst client = axios.create({\r\n  baseURL: baseURL,\r\n  timeout: 5000,\r\n});\r\n\r\nconst getGeneros = async () => {\r\n  const uri = encodeURI(`recommendations/available-genre-seeds`);\r\n  return await client.get(uri);\r\n};\r\n\r\nconst buscarArtistasPorGenero = async (genero) => {\r\n  const uri = `search?type=artist&q=genre:${genero}`;\r\n  const response = await client.get(uri);\r\n  return response.data.artists.items;\r\n};\r\n\r\nconst authSpotify = async () => {\r\n  const clientId = '<seu_client_id>';\r\n  const clientSecret = '<seu_client_secret>';\r\n  const response = await axios.post('https://accounts.spotify.com/api/token', 'grant_type=client_credentials', {\r\n    headers: {\r\n      'Content-Type': 'application/x-www-form-urlencoded',\r\n      'Authorization': `Basic ${Buffer.from(`${clientId}:${clientSecret}`).toString('base64')}`\r\n    }\r\n  });\r\n  return response.data.access_token;\r\n};\r\n\r\nconst setAuthorizationHeader = async () => {\r\n  const token = await authSpotify();\r\n  client.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n};\r\n\r\nsetAuthorizationHeader();\r\n\r\nexport {getGeneros, buscarArtistasPorGenero};"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,IAAMC,OAAO,GAAG,6BAA6B;AAE7C,IAAMC,MAAM,GAAGF,KAAK,CAACG,MAAM,CAAC;EAC1BF,OAAO,EAAEA,OAAO;EAChBG,OAAO,EAAE;AACX,CAAC,CAAC;AAEF,IAAMC,UAAU;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,aAAY;IAC7B,IAAMC,GAAG,GAAGC,SAAS,wCAAwC,CAAC;IAC9D,aAAaP,MAAM,CAACQ,GAAG,CAACF,GAAG,CAAC;EAC9B,CAAC;EAAA,gBAHKH,UAAUA,CAAA;IAAA,OAAAC,IAAA,CAAAK,KAAA,OAAAC,SAAA;EAAA;AAAA,GAGf;AAED,IAAMC,uBAAuB;EAAA,IAAAC,KAAA,GAAAP,iBAAA,CAAG,WAAOQ,MAAM,EAAK;IAChD,IAAMP,GAAG,mCAAiCO,MAAQ;IAClD,IAAMC,QAAQ,SAASd,MAAM,CAACQ,GAAG,CAACF,GAAG,CAAC;IACtC,OAAOQ,QAAQ,CAACC,IAAI,CAACC,OAAO,CAACC,KAAK;EACpC,CAAC;EAAA,gBAJKN,uBAAuBA,CAAAO,EAAA;IAAA,OAAAN,KAAA,CAAAH,KAAA,OAAAC,SAAA;EAAA;AAAA,GAI5B;AAED,IAAMS,WAAW;EAAA,IAAAC,KAAA,GAAAf,iBAAA,CAAG,aAAY;IAC9B,IAAMgB,QAAQ,GAAG,iBAAiB;IAClC,IAAMC,YAAY,GAAG,qBAAqB;IAC1C,IAAMR,QAAQ,SAAShB,KAAK,CAACyB,IAAI,CAAC,wCAAwC,EAAE,+BAA+B,EAAE;MAC3GC,OAAO,EAAE;QACP,cAAc,EAAE,mCAAmC;QACnD,eAAe,aAAWC,MAAM,CAACC,IAAI,CAAIL,QAAQ,SAAIC,YAAc,CAAC,CAACK,QAAQ,CAAC,QAAQ;MACxF;IACF,CAAC,CAAC;IACF,OAAOb,QAAQ,CAACC,IAAI,CAACa,YAAY;EACnC,CAAC;EAAA,gBAVKT,WAAWA,CAAA;IAAA,OAAAC,KAAA,CAAAX,KAAA,OAAAC,SAAA;EAAA;AAAA,GAUhB;AAED,IAAMmB,sBAAsB;EAAA,IAAAC,KAAA,GAAAzB,iBAAA,CAAG,aAAY;IACzC,IAAM0B,KAAK,SAASZ,WAAW,CAAC,CAAC;IACjCnB,MAAM,CAACgC,QAAQ,CAACR,OAAO,CAACS,MAAM,CAAC,eAAe,CAAC,eAAaF,KAAO;EACrE,CAAC;EAAA,gBAHKF,sBAAsBA,CAAA;IAAA,OAAAC,KAAA,CAAArB,KAAA,OAAAC,SAAA;EAAA;AAAA,GAG3B;AAEDmB,sBAAsB,CAAC,CAAC;AAExB,SAAQ1B,UAAU,EAAEQ,uBAAuB"},"metadata":{},"sourceType":"module","externalDependencies":[]}