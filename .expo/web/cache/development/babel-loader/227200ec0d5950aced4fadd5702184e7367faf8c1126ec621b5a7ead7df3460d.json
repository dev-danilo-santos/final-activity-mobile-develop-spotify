{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport axios from \"axios\";\nimport qs from \"qs\";\nimport { Buffer } from 'buffer';\nvar baseURL = \"https://api.spotify.com/v1/\";\nvar client = axios.create({\n  baseURL: baseURL,\n  timeout: 5000\n});\nvar getAccessToken = function () {\n  var _ref = _asyncToGenerator(function* () {\n    var clientId = \"e0610e0e032e4fbda1e9a21638218a6b\";\n    var clientSecret = \"6c05a3a1d34f4e84967720f98c7d3a40\";\n    var authString = clientId + \":\" + clientSecret;\n    var base64AuthString = Buffer.from(authString).toString(\"base64\");\n    var data = {\n      grant_type: \"client_credentials\"\n    };\n    var config = {\n      headers: {\n        Authorization: \"Basic \" + base64AuthString,\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      }\n    };\n    var response = yield axios.post(\"https://accounts.spotify.com/api/token\", qs.stringify(data), config);\n    return response.data.access_token;\n  });\n  return function getAccessToken() {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar getGeneros = function () {\n  var _ref2 = _asyncToGenerator(function* () {\n    var token = yield getAccessToken();\n    var uri = encodeURI(\"recommendations/available-genre-seeds\");\n    return yield client.get(uri, {\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    });\n  });\n  return function getGeneros() {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar buscarArtistasPorGenero = function () {\n  var _ref3 = _asyncToGenerator(function* (genero) {\n    var token = yield getAccessToken();\n    var uri = \"search?type=artist&q=genre:\" + genero;\n    var response = yield client.get(uri, {\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    });\n    return response.data;\n  });\n  return function buscarArtistasPorGenero(_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar buscarArtistasPorNome = function () {\n  var _ref4 = _asyncToGenerator(function* (nomeArtista) {\n    var token = yield getAccessToken();\n    var uri = \"search?type=artist&q=\" + nomeArtista;\n    return yield client.get(uri, {\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    });\n  });\n  return function buscarArtistasPorNome(_x2) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport { getGeneros, buscarArtistasPorGenero, buscarArtistasPorNome };","map":{"version":3,"names":["axios","qs","Buffer","baseURL","client","create","timeout","getAccessToken","_ref","_asyncToGenerator","clientId","clientSecret","authString","base64AuthString","from","toString","data","grant_type","config","headers","Authorization","response","post","stringify","access_token","apply","arguments","getGeneros","_ref2","token","uri","encodeURI","get","buscarArtistasPorGenero","_ref3","genero","_x","buscarArtistasPorNome","_ref4","nomeArtista","_x2"],"sources":["C:/Users/T-GAMER/Desktop/11-async-storage/src/component/api/spotifyApi.js"],"sourcesContent":["import axios from \"axios\";\r\nimport qs from \"qs\";\r\nimport { Buffer } from 'buffer';\r\n\r\nconst baseURL = \"https://api.spotify.com/v1/\";\r\n\r\nconst client = axios.create({\r\n  baseURL: baseURL,\r\n  timeout: 5000,\r\n});\r\n\r\nconst getAccessToken = async () => {\r\n  const clientId = \"e0610e0e032e4fbda1e9a21638218a6b\";\r\n  const clientSecret = \"6c05a3a1d34f4e84967720f98c7d3a40\";\r\n  const authString = `${clientId}:${clientSecret}`;\r\n  const base64AuthString = Buffer.from(authString).toString(\"base64\");\r\n\r\n  const data = {\r\n    grant_type: \"client_credentials\",\r\n  };\r\n\r\n  const config = {\r\n    headers: {\r\n      Authorization: `Basic ${base64AuthString}`,\r\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n    },\r\n  };\r\n\r\n  const response = await axios.post(\r\n    \"https://accounts.spotify.com/api/token\",\r\n    qs.stringify(data),\r\n    config\r\n  );\r\n\r\n  return response.data.access_token;\r\n};\r\n\r\nconst getGeneros = async () => {\r\n  const token = await getAccessToken();\r\n  const uri = encodeURI(`recommendations/available-genre-seeds`);\r\n  return await client.get(uri, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n};\r\n\r\nconst buscarArtistasPorGenero = async (genero) => {\r\n  const token = await getAccessToken();\r\n  const uri = `search?type=artist&q=genre:${genero}`;\r\n  const response = await client.get(uri, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  });\r\n  return response.data;\r\n};\r\n\r\nconst buscarArtistasPorNome = async (nomeArtista) => {\r\n  const token = await getAccessToken();\r\n  const uri = `search?type=artist&q=${nomeArtista}`;\r\n  return await client.get(uri, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    }\r\n  })\r\n  // const response = await client.get(uri, {\r\n  //   headers: {\r\n  //     Authorization: `Bearer ${token}`,\r\n  //   },\r\n  // });\r\n  // return response.data;\r\n};\r\n\r\nexport { getGeneros, buscarArtistasPorGenero, buscarArtistasPorNome };\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,EAAE,MAAM,IAAI;AACnB,SAASC,MAAM,QAAQ,QAAQ;AAE/B,IAAMC,OAAO,GAAG,6BAA6B;AAE7C,IAAMC,MAAM,GAAGJ,KAAK,CAACK,MAAM,CAAC;EAC1BF,OAAO,EAAEA,OAAO;EAChBG,OAAO,EAAE;AACX,CAAC,CAAC;AAEF,IAAMC,cAAc;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,aAAY;IACjC,IAAMC,QAAQ,GAAG,kCAAkC;IACnD,IAAMC,YAAY,GAAG,kCAAkC;IACvD,IAAMC,UAAU,GAAMF,QAAQ,SAAIC,YAAc;IAChD,IAAME,gBAAgB,GAAGX,MAAM,CAACY,IAAI,CAACF,UAAU,CAAC,CAACG,QAAQ,CAAC,QAAQ,CAAC;IAEnE,IAAMC,IAAI,GAAG;MACXC,UAAU,EAAE;IACd,CAAC;IAED,IAAMC,MAAM,GAAG;MACbC,OAAO,EAAE;QACPC,aAAa,aAAWP,gBAAkB;QAC1C,cAAc,EAAE;MAClB;IACF,CAAC;IAED,IAAMQ,QAAQ,SAASrB,KAAK,CAACsB,IAAI,CAC/B,wCAAwC,EACxCrB,EAAE,CAACsB,SAAS,CAACP,IAAI,CAAC,EAClBE,MACF,CAAC;IAED,OAAOG,QAAQ,CAACL,IAAI,CAACQ,YAAY;EACnC,CAAC;EAAA,gBAxBKjB,cAAcA,CAAA;IAAA,OAAAC,IAAA,CAAAiB,KAAA,OAAAC,SAAA;EAAA;AAAA,GAwBnB;AAED,IAAMC,UAAU;EAAA,IAAAC,KAAA,GAAAnB,iBAAA,CAAG,aAAY;IAC7B,IAAMoB,KAAK,SAAStB,cAAc,CAAC,CAAC;IACpC,IAAMuB,GAAG,GAAGC,SAAS,wCAAwC,CAAC;IAC9D,aAAa3B,MAAM,CAAC4B,GAAG,CAACF,GAAG,EAAE;MAC3BX,OAAO,EAAE;QACPC,aAAa,cAAYS;MAC3B;IACF,CAAC,CAAC;EACJ,CAAC;EAAA,gBARKF,UAAUA,CAAA;IAAA,OAAAC,KAAA,CAAAH,KAAA,OAAAC,SAAA;EAAA;AAAA,GAQf;AAED,IAAMO,uBAAuB;EAAA,IAAAC,KAAA,GAAAzB,iBAAA,CAAG,WAAO0B,MAAM,EAAK;IAChD,IAAMN,KAAK,SAAStB,cAAc,CAAC,CAAC;IACpC,IAAMuB,GAAG,mCAAiCK,MAAQ;IAClD,IAAMd,QAAQ,SAASjB,MAAM,CAAC4B,GAAG,CAACF,GAAG,EAAE;MACrCX,OAAO,EAAE;QACPC,aAAa,cAAYS;MAC3B;IACF,CAAC,CAAC;IACF,OAAOR,QAAQ,CAACL,IAAI;EACtB,CAAC;EAAA,gBATKiB,uBAAuBA,CAAAG,EAAA;IAAA,OAAAF,KAAA,CAAAT,KAAA,OAAAC,SAAA;EAAA;AAAA,GAS5B;AAED,IAAMW,qBAAqB;EAAA,IAAAC,KAAA,GAAA7B,iBAAA,CAAG,WAAO8B,WAAW,EAAK;IACnD,IAAMV,KAAK,SAAStB,cAAc,CAAC,CAAC;IACpC,IAAMuB,GAAG,6BAA2BS,WAAa;IACjD,aAAanC,MAAM,CAAC4B,GAAG,CAACF,GAAG,EAAE;MAC3BX,OAAO,EAAE;QACPC,aAAa,cAAYS;MAC3B;IACF,CAAC,CAAC;EAOJ,CAAC;EAAA,gBAdKQ,qBAAqBA,CAAAG,GAAA;IAAA,OAAAF,KAAA,CAAAb,KAAA,OAAAC,SAAA;EAAA;AAAA,GAc1B;AAED,SAASC,UAAU,EAAEM,uBAAuB,EAAEI,qBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}