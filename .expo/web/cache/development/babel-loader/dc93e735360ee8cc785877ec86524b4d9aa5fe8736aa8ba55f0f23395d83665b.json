{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { default as axios } from 'axios';\nvar baseURL = \"https://api.spotify.com/v1/\";\nvar authClient = axios.create({\n  baseURL: \"https://accounts.spotify.com/api\",\n  timeout: 5000,\n  headers: {\n    \"Content-Type\": \"application/x-www-form-urlencoded\",\n    Authorization: \"Basic \" + Buffer.from(\"e0610e0e032e4fbda1e9a21638218a6b:6c05a3a1d34f4e84967720f98c7d3a40\").toString(\"base64\")\n  }\n});\nvar client = axios.create({\n  baseURL: baseURL,\n  timeout: 5000,\n  headers: {}\n});\nvar accessToken = \"\";\nvar getAccessToken = function () {\n  var _ref = _asyncToGenerator(function* () {\n    var data = new URLSearchParams();\n    data.append(\"grant_type\", \"client_credentials\");\n    var response = yield authClient.post(\"/token\", data);\n    accessToken = response.data.access_token;\n  });\n  return function getAccessToken() {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar updateAuthorizationHeader = function updateAuthorizationHeader() {\n  client.defaults.headers.common[\"Authorization\"] = \"Bearer \" + accessToken;\n};\ngetAccessToken();\nvar getGeneros = function () {\n  var _ref2 = _asyncToGenerator(function* () {\n    updateAuthorizationHeader();\n    var uri = encodeURI(\"recommendations/available-genre-seeds\");\n    var response = yield client.get(uri);\n    return response.data;\n  });\n  return function getGeneros() {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar buscarArtistasPorGenero = function () {\n  var _ref3 = _asyncToGenerator(function* (genero) {\n    updateAuthorizationHeader();\n    var uri = \"search?type=artist&q=genre:\" + genero;\n    var response = yield client.get(uri);\n    return response.data.artists.items;\n  });\n  return function buscarArtistasPorGenero(_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport { getGeneros, buscarArtistasPorGenero };","map":{"version":3,"names":["default","axios","baseURL","authClient","create","timeout","headers","Authorization","Buffer","from","toString","client","accessToken","getAccessToken","_ref","_asyncToGenerator","data","URLSearchParams","append","response","post","access_token","apply","arguments","updateAuthorizationHeader","defaults","common","getGeneros","_ref2","uri","encodeURI","get","buscarArtistasPorGenero","_ref3","genero","artists","items","_x"],"sources":["C:/Users/T-GAMER/Desktop/11-async-storage/src/component/api/spotifyApi.js"],"sourcesContent":["import { default as axios } from 'axios';\r\n\r\nconst baseURL = \"https://api.spotify.com/v1/\";\r\n\r\nconst authClient = axios.create({\r\n  baseURL: \"https://accounts.spotify.com/api\",\r\n  timeout: 5000,\r\n  headers: {\r\n    \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n    Authorization: `Basic ${Buffer.from(\r\n      \"e0610e0e032e4fbda1e9a21638218a6b:6c05a3a1d34f4e84967720f98c7d3a40\"\r\n    ).toString(\"base64\")}`,\r\n  },\r\n});\r\n\r\nconst client = axios.create({\r\n  baseURL: baseURL,\r\n  timeout: 5000,\r\n  headers: {},\r\n});\r\n\r\nlet accessToken = \"\";\r\n\r\nconst getAccessToken = async () => {\r\n  const data = new URLSearchParams();\r\n  data.append(\"grant_type\", \"client_credentials\");\r\n\r\n  const response = await authClient.post(\"/token\", data);\r\n  accessToken = response.data.access_token;\r\n};\r\n\r\nconst updateAuthorizationHeader = () => {\r\n  client.defaults.headers.common[\r\n    \"Authorization\"\r\n  ] = `Bearer ${accessToken}`;\r\n};\r\n\r\ngetAccessToken();\r\n\r\nconst getGeneros = async () => {\r\n  updateAuthorizationHeader();\r\n  const uri = encodeURI(`recommendations/available-genre-seeds`);\r\n  const response = await client.get(uri);\r\n  return response.data;\r\n};\r\n\r\nconst buscarArtistasPorGenero = async (genero) => {\r\n  updateAuthorizationHeader();\r\n  const uri = `search?type=artist&q=genre:${genero}`;\r\n  const response = await client.get(uri);\r\n  return response.data.artists.items;\r\n};\r\n\r\nexport { getGeneros, buscarArtistasPorGenero };\r\n"],"mappings":";AAAA,SAASA,OAAO,IAAIC,KAAK,QAAQ,OAAO;AAExC,IAAMC,OAAO,GAAG,6BAA6B;AAE7C,IAAMC,UAAU,GAAGF,KAAK,CAACG,MAAM,CAAC;EAC9BF,OAAO,EAAE,kCAAkC;EAC3CG,OAAO,EAAE,IAAI;EACbC,OAAO,EAAE;IACP,cAAc,EAAE,mCAAmC;IACnDC,aAAa,aAAWC,MAAM,CAACC,IAAI,CACjC,mEACF,CAAC,CAACC,QAAQ,CAAC,QAAQ;EACrB;AACF,CAAC,CAAC;AAEF,IAAMC,MAAM,GAAGV,KAAK,CAACG,MAAM,CAAC;EAC1BF,OAAO,EAAEA,OAAO;EAChBG,OAAO,EAAE,IAAI;EACbC,OAAO,EAAE,CAAC;AACZ,CAAC,CAAC;AAEF,IAAIM,WAAW,GAAG,EAAE;AAEpB,IAAMC,cAAc;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,aAAY;IACjC,IAAMC,IAAI,GAAG,IAAIC,eAAe,CAAC,CAAC;IAClCD,IAAI,CAACE,MAAM,CAAC,YAAY,EAAE,oBAAoB,CAAC;IAE/C,IAAMC,QAAQ,SAAShB,UAAU,CAACiB,IAAI,CAAC,QAAQ,EAAEJ,IAAI,CAAC;IACtDJ,WAAW,GAAGO,QAAQ,CAACH,IAAI,CAACK,YAAY;EAC1C,CAAC;EAAA,gBANKR,cAAcA,CAAA;IAAA,OAAAC,IAAA,CAAAQ,KAAA,OAAAC,SAAA;EAAA;AAAA,GAMnB;AAED,IAAMC,yBAAyB,GAAG,SAA5BA,yBAAyBA,CAAA,EAAS;EACtCb,MAAM,CAACc,QAAQ,CAACnB,OAAO,CAACoB,MAAM,CAC5B,eAAe,CAChB,eAAad,WAAa;AAC7B,CAAC;AAEDC,cAAc,CAAC,CAAC;AAEhB,IAAMc,UAAU;EAAA,IAAAC,KAAA,GAAAb,iBAAA,CAAG,aAAY;IAC7BS,yBAAyB,CAAC,CAAC;IAC3B,IAAMK,GAAG,GAAGC,SAAS,wCAAwC,CAAC;IAC9D,IAAMX,QAAQ,SAASR,MAAM,CAACoB,GAAG,CAACF,GAAG,CAAC;IACtC,OAAOV,QAAQ,CAACH,IAAI;EACtB,CAAC;EAAA,gBALKW,UAAUA,CAAA;IAAA,OAAAC,KAAA,CAAAN,KAAA,OAAAC,SAAA;EAAA;AAAA,GAKf;AAED,IAAMS,uBAAuB;EAAA,IAAAC,KAAA,GAAAlB,iBAAA,CAAG,WAAOmB,MAAM,EAAK;IAChDV,yBAAyB,CAAC,CAAC;IAC3B,IAAMK,GAAG,mCAAiCK,MAAQ;IAClD,IAAMf,QAAQ,SAASR,MAAM,CAACoB,GAAG,CAACF,GAAG,CAAC;IACtC,OAAOV,QAAQ,CAACH,IAAI,CAACmB,OAAO,CAACC,KAAK;EACpC,CAAC;EAAA,gBALKJ,uBAAuBA,CAAAK,EAAA;IAAA,OAAAJ,KAAA,CAAAX,KAAA,OAAAC,SAAA;EAAA;AAAA,GAK5B;AAED,SAASI,UAAU,EAAEK,uBAAuB"},"metadata":{},"sourceType":"module","externalDependencies":[]}